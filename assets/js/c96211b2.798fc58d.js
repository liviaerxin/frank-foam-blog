"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[7645],{3905:(e,a,t)=>{t.d(a,{Zo:()=>m,kt:()=>k});var n=t(67294);function r(e,a,t){return a in e?Object.defineProperty(e,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[a]=t,e}function i(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);a&&(n=n.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),t.push.apply(t,n)}return t}function s(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?i(Object(t),!0).forEach((function(a){r(e,a,t[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):i(Object(t)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))}))}return e}function l(e,a){if(null==e)return{};var t,n,r=function(e,a){if(null==e)return{};var t,n,r={},i=Object.keys(e);for(n=0;n<i.length;n++)t=i[n],a.indexOf(t)>=0||(r[t]=e[t]);return r}(e,a);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)t=i[n],a.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(r[t]=e[t])}return r}var o=n.createContext({}),d=function(e){var a=n.useContext(o),t=a;return e&&(t="function"==typeof e?e(a):s(s({},a),e)),t},m=function(e){var a=d(e.components);return n.createElement(o.Provider,{value:a},e.children)},u="mdxType",p={inlineCode:"code",wrapper:function(e){var a=e.children;return n.createElement(n.Fragment,{},a)}},c=n.forwardRef((function(e,a){var t=e.components,r=e.mdxType,i=e.originalType,o=e.parentName,m=l(e,["components","mdxType","originalType","parentName"]),u=d(t),c=r,k=u["".concat(o,".").concat(c)]||u[c]||p[c]||i;return t?n.createElement(k,s(s({ref:a},m),{},{components:t})):n.createElement(k,s({ref:a},m))}));function k(e,a){var t=arguments,r=a&&a.mdxType;if("string"==typeof e||r){var i=t.length,s=new Array(i);s[0]=c;var l={};for(var o in a)hasOwnProperty.call(a,o)&&(l[o]=a[o]);l.originalType=e,l[u]="string"==typeof e?e:r,s[1]=l;for(var d=2;d<i;d++)s[d]=t[d];return n.createElement.apply(null,s)}return n.createElement.apply(null,t)}c.displayName="MDXCreateElement"},91639:(e,a,t)=>{t.r(a),t.d(a,{assets:()=>o,contentTitle:()=>s,default:()=>p,frontMatter:()=>i,metadata:()=>l,toc:()=>d});var n=t(87462),r=(t(67294),t(3905));const i={foam_template:{name:"Docs Docusaurus Template",description:"Creates Docusaurus docs/slip",filepath:"docs/wiki-ffmpeg.md"},authors:["frank"],description:"Setup Intel VROC RAID on Ubuntu",keywords:["Setup Intel VROC RAID on Ubuntu"],image:"https://i.imgur.com/mErPwqL.png",tags:["intel vroc","raid","ubuntu","best practice"],date:new Date("2023-08-29T00:00:00.000Z")},s="RAID on Ubuntu",l={permalink:"/blog/raid-on-ubuntu",editUrl:"https://github.com/liviaerxin/liviaerxin.github.io/edit/master/_ssg/docusaurus/../../blog/raid-on-ubuntu.mdx",source:"@site/../../blog/raid-on-ubuntu.mdx",title:"RAID on Ubuntu",description:"Setup Intel VROC RAID on Ubuntu",date:"2023-08-29T00:00:00.000Z",formattedDate:"August 29, 2023",tags:[{label:"intel vroc",permalink:"/blog/tags/intel-vroc"},{label:"raid",permalink:"/blog/tags/raid"},{label:"ubuntu",permalink:"/blog/tags/ubuntu"},{label:"best practice",permalink:"/blog/tags/best-practice"}],readingTime:6.8,hasTruncateMarker:!0,authors:[{name:"Frank Chen",title:"Maintainer of Docusaurus",url:"https://github.com/liviaerxin",imageURL:"https://github.com/liviaerxin.png",key:"frank"}],frontMatter:{foam_template:{name:"Docs Docusaurus Template",description:"Creates Docusaurus docs/slip",filepath:"docs/wiki-ffmpeg.md"},authors:["frank"],description:"Setup Intel VROC RAID on Ubuntu",keywords:["Setup Intel VROC RAID on Ubuntu"],image:"https://i.imgur.com/mErPwqL.png",tags:["intel vroc","raid","ubuntu","best practice"],date:"2023-08-29T00:00:00.000Z"},prevItem:{title:"Intel VROC RAID on Ubuntu",permalink:"/blog/raid-intel-vroc"},nextItem:{title:"Awesome Troubleshooting",permalink:"/blog/awesome-troubleshooting"}},o={authorsImageUrls:[void 0]},d=[{value:"Background",id:"background",level:2},{value:"Set up RAID array",id:"set-up-raid-array",level:2},{value:"Create RAID array with mdadm",id:"create-raid-array-with-mdadm",level:3},{value:"Mount RAID array for use",id:"mount-raid-array-for-use",level:3},{value:"Save RAID array configuration",id:"save-raid-array-configuration",level:3},{value:"Delete RAID Array with mdadm",id:"delete-raid-array-with-mdadm",level:2},{value:"Manage RAID Array with mdadm",id:"manage-raid-array-with-mdadm",level:2},{value:"Find the RAID arrays",id:"find-the-raid-arrays",level:3},{value:"Query information on RAID array",id:"query-information-on-raid-array",level:3},{value:"Query information on individual physical devices",id:"query-information-on-individual-physical-devices",level:3},{value:"Stop RAID array",id:"stop-raid-array",level:3},{value:"Start an RAID array",id:"start-an-raid-array",level:3},{value:"Add a spare device to an RAID array",id:"add-a-spare-device-to-an-raid-array",level:3},{value:"Check block devices",id:"check-block-devices",level:3},{value:"List UUID of devices",id:"list-uuid-of-devices",level:3},{value:"Partition a disk",id:"partition-a-disk",level:3},{value:"Create filesystem on disk",id:"create-filesystem-on-disk",level:3},{value:"Delete partition and data in disk",id:"delete-partition-and-data-in-disk",level:3}],m={toc:d},u="wrapper";function p(e){let{components:a,...t}=e;return(0,r.kt)(u,(0,n.Z)({},m,t,{components:a,mdxType:"MDXLayout"}),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://www.digitalocean.com/community/tutorials/how-to-create-raid-arrays-with-mdadm-on-ubuntu-22-04"},"How To Create RAID Arrays with mdadm on Ubuntu 22.04  | DigitalOcean")),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://help.ubuntu.com/community/Installation/SoftwareRAID"},"SoftwareRAID")),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://www.servers.com/support/knowledge/linux-administration/how-to-install-ubuntu-with-software-raid-1"},"How to install Ubuntu with software RAID-1")),(0,r.kt)("p",null,"What is RAID?"),(0,r.kt)("p",null,"The Redundant Array of Independent Disks, commonly known as RAID, is a technology used to combine multiple physical disk drives into a single logical unit for the purpose of data storage and performance improvement. "),(0,r.kt)("p",null,"This blog will demonstrate to set up ",(0,r.kt)("strong",{parentName:"p"},"software RAID")," on Ubuntu(It should also work on other Linux)."),(0,r.kt)("p",null,"To setup ",(0,r.kt)("strong",{parentName:"p"},"Intel VROC RAID")," on Ubuntu, go to see: ",(0,r.kt)("a",{parentName:"p",href:"/blog/raid-intel-vroc"},"Intel VROC RAID on Ubuntu"),"."),(0,r.kt)("p",null,"The hierarchy of storage abstraction layers in Linux."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-plaintext"},'\n    +------------------------+\n    |   Application          |\n    |                        |\n    |open("/mnt/media/1.png")|\n    |                        |\n    +------------------------+\n\n\n\n    +------------------------+\n    |    Mount Point         |   Higher layer\n    |                        |        ^\n    |/dev/sda1 -> /mnt/media |        |\n    |/dev/sda2 -> /mnt/file  |        |\n    |                        |        |\n    +------------------------+        |\n                                      |\n    +------------------------+        |\n    |    Logical Volume      |        |\n    |                        |        |\n    | /dev/mapper/vg1-lg1,   |        |\n    | /dev/mapper/vg1-lg2,   |        |\n    +------------------------+        |\n                                      |\n    +------------------------+        |\n    |     File System        |        |\n    |                        |        |\n    |   ext4, Btrfs, etc     |        |\n    |                        |        |\n    +------------------------+        |\n                                      |\n    +------------------------+        |\n    |      Partition         |        |\n    |                        |        |\n    |  /dev/sda1, /dev/sda2  |        |\n    |                        |        |\n    +------------------------+        |\n                                      |\n                                      |\n    +------------------------+        |\n    |  Physical Disk Drive   |        |\n    |                        |        |\n    |    HDD /dev/hda        |  Lower layer\n    |    SSD /dev/sda        |\n    +------------------------+\n')),(0,r.kt)("p",null,"The ",(0,r.kt)("strong",{parentName:"p"},"RAID")," is treated as ",(0,r.kt)("strong",{parentName:"p"},"Logical Disk Drive")," above the ",(0,r.kt)("strong",{parentName:"p"},"Physical Disk Drive")," layer. So you should do partitioning on it after being created."),(0,r.kt)("h2",{id:"background"},"Background"),(0,r.kt)("p",null,"Recently, there is a chance for me to install Ubuntu(server) OS on a Dell Precision xxx workstation which is includes 2 NVMe SSDs and 8 SATA hard drives(HDDs) and has in-box hardware-assisted RAID controller(",(0,r.kt)("strong",{parentName:"p"},"Intel VROC"),"). In the past, I just play cloud virtual machines or personal host with single disk."),(0,r.kt)("p",null,"Configuring storage is a critical part of setting up a reliable workstation. So firstly, how to organize these following disks to their roles?"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"2 SSDs hold the system to load quickly"),(0,r.kt)("li",{parentName:"ul"},"8 HDDs store data persistently")),(0,r.kt)("p",null,"In order to access these physical disks easily and reduce damages from data loss, I need to combine multiple disks to act as one, while keep data redundant and backup. After step-by-step research, there are some enterprise solutions present for me. These drive layer or file system layer approaches designed for specific purposes have their own advantages over others while they maybe achieve some same features."),(0,r.kt)("p",null,"Here are some benefits and shortcomings of them alongside common use cases:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("strong",{parentName:"p"},"RAID"),"(Redundant Array of Independent Disks)\nAbstraction level: drive layer\nConcept: RAID uses multiple drives to act as one(logical drive).\nBenefits: improve data redundancy and data read/write performance")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("strong",{parentName:"p"},"LVM"),"(Logical Volume Management)\nAbstraction level: file system layer\nConcept: Manage a logical volume over multiple drives, each drive is a Physical Volume(PV).\nBenefits: combine multiple disks into one logical volume, extend the volume with new disk added, increase/decrease mounted folder in file system")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("strong",{parentName:"p"},"ZFS"),"(Z File System)"))),(0,r.kt)("p",null,"There are three types of raid, as Wiki saying:"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"hardware RAID"),(0,r.kt)("li",{parentName:"ol"},"software RAID",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"mdadm")," in Linux"))),(0,r.kt)("li",{parentName:"ol"},"hardware-assisted software RAID, firmware RAID, fake RAID",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Intel VROC")," (Virtual RAID on CPU)")))),(0,r.kt)("p",null,"This document will introduce how to set up software RAID(RAID0, RAID1, RAID5, RAID 10) on ",(0,r.kt)("strong",{parentName:"p"},"already-installed")," Ubuntu."),(0,r.kt)("p",null,"To create a RAID to hold the Ubuntu OS when installing Ubuntu, see ",(0,r.kt)("a",{parentName:"p",href:"https://help.ubuntu.com/community/Installation/SoftwareRAID"},"SoftwareRAID")," or ",(0,r.kt)("a",{parentName:"p",href:"https://www.servers.com/support/knowledge/linux-administration/how-to-install-ubuntu-with-software-raid-1"},"How to install Ubuntu with software RAID-1")),(0,r.kt)("p",null,"In addition, there are different challenges you will face when installing Ubuntu Server and Ubuntu Desktop."),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},"Install Ubuntu Server on RAID:\nUbuntu Server Image has inbox ",(0,r.kt)("inlineCode",{parentName:"p"},"mdadm")," utilities, so it is quite convenient to create the software RAID on multiple disks then install Ubuntu Server OS on the RAID in storage layer step during OS installation stage.")),(0,r.kt)("hr",null),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},"Install Ubuntu Desktop on RAID:\nUbuntu Desk Image does not ship the ",(0,r.kt)("inlineCode",{parentName:"p"},"mdadm")," tool, so it is nearly impossible to create RAID and install Ubuntu Desktop OS on the RAID(however this one ",(0,r.kt)("a",{parentName:"p",href:"https://askubuntu.com/questions/1299978/install-ubuntu-20-04-desktop-with-raid-1-and-lvm-on-machine-with-uefi-bios"},"Install Ubuntu 20.04 desktop with RAID 1 and LVM on machine with UEFI BIOS")," from stackoverflow seems to be successful)")),(0,r.kt)("h2",{id:"set-up-raid-array"},"Set up RAID array"),(0,r.kt)("p",null,"To create a RAID array ready to use in practice, there are always common steps:"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"Create a RAID array(RAID 0, RAID 1, RAID 5 or RAID 10)"),(0,r.kt)("li",{parentName:"ol"},"Mount the RAID array"),(0,r.kt)("li",{parentName:"ol"},"Save the RAID array configuration for system boot")),(0,r.kt)("h3",{id:"create-raid-array-with-mdadm"},"Create RAID array with mdadm"),(0,r.kt)("p",null,"Create ",(0,r.kt)("strong",{parentName:"p"},"RAID 0")," array using devices: ",(0,r.kt)("inlineCode",{parentName:"p"},"/dev/sda")," and ",(0,r.kt)("inlineCode",{parentName:"p"},"/dev/sdb")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-sh"},"sudo mdadm --create --verbose /dev/md0 -l 0 -n 2 /dev/sda /dev/sdb\n")),(0,r.kt)("h3",{id:"mount-raid-array-for-use"},"Mount RAID array for use"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"Create a ",(0,r.kt)("inlineCode",{parentName:"li"},"ext4")," filesystem on the array")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-sh"},"sudo mkfs.ext4 -F /dev/md0\n")),(0,r.kt)("ol",{start:2},(0,r.kt)("li",{parentName:"ol"},"Mount the array")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-sh"},"sudo mkdir -p /mnt/md0\n\nsudo mount /dev/md0 /mnt/md0\n")),(0,r.kt)("h3",{id:"save-raid-array-configuration"},"Save RAID array configuration"),(0,r.kt)("p",null,"Persist the RAID array configuration to make the system reassemble and mount the RAID array automatically after reboot."),(0,r.kt)("p",null,"Append the line to ",(0,r.kt)("inlineCode",{parentName:"p"},"/etc/mdadm/mdadm.conf"),":"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-sh"},"sudo mdadm --detail --scan | sudo tee -a /etc/mdadm/mdadm.conf\n")),(0,r.kt)("p",null,"Make RAID array available in early boot stage:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-sh"},"sudo update-initramfs -u\n")),(0,r.kt)("p",null,"Persist the mount point, edit ",(0,r.kt)("inlineCode",{parentName:"p"},"/etc/fstab"),":"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-conf",metastring:'title="/etc/fstab"',title:'"/etc/fstab"'},"/dev/md0  /mnt/md0  ext4  defaults,nofail,discard 0 0\n")),(0,r.kt)("p",null,"or persist the mount point by using ",(0,r.kt)("inlineCode",{parentName:"p"},"UUID"),", get ",(0,r.kt)("inlineCode",{parentName:"p"},"UUID")," of the disk drive,"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-sh"},'$ blkid /dev/md124\n/dev/md124: UUID="b7fa44f2-0f05-47a1-b4ef-e9ad306898de" BLOCK_SIZE="4096" TYPE="ext4"\n')),(0,r.kt)("p",null,"then edit in ",(0,r.kt)("inlineCode",{parentName:"p"},"/etc/fstab"),","),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-conf",metastring:'title="/etc/fstab"',title:'"/etc/fstab"'},"UUID=b7fa44f2-0f05-47a1-b4ef-e9ad306898de  /volume  ext4  defaults,nofail,discard 0 0\n")),(0,r.kt)("p",null,"finally apply the new mount,"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-sh"},"sudo mount -a\n")),(0,r.kt)("h2",{id:"delete-raid-array-with-mdadm"},"Delete RAID Array with mdadm"),(0,r.kt)("p",null,"Make sure to remove what are using the RAID array,"),(0,r.kt)("p",null,"[Optional]"," Umount the array from filesystem if mounted,"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-sh"},"sudo umount /dev/md0\n")),(0,r.kt)("p",null,"Stop RAID array,"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-sh"},"sudo mdadm --stop /dev/md0\n# Stop all arrays\nsudo mdadm --stop --scan\n")),(0,r.kt)("p",null,"Removes the RAID metadata and resets them to normal on the ",(0,r.kt)("strong",{parentName:"p"},"Drives"),","),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-sh"},"sudo mdadm --zero-superblock /dev/sda\nsudo mdadm --zero-superblock /dev/sd[a-h]\n")),(0,r.kt)("p",null,"[Optional]"," Remove any persistent references to the array if exist. Edit the ",(0,r.kt)("inlineCode",{parentName:"p"},"/etc/fstab"),":"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-sh",metastring:'title="/etc/fstab"',title:'"/etc/fstab"'},"sudo nano /etc/fstab\n")),(0,r.kt)("p",null,"[Optional]"," Also, remove the array definition if exist, from the ",(0,r.kt)("inlineCode",{parentName:"p"},"/etc/mdadm/mdadm.conf")," file:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-sh",metastring:'title="/etc/mdadm/mdadm.conf"',title:'"/etc/mdadm/mdadm.conf"'},"sudo nano /etc/mdadm/mdadm.conf\n")),(0,r.kt)("h2",{id:"manage-raid-array-with-mdadm"},"Manage RAID Array with mdadm"),(0,r.kt)("h3",{id:"find-the-raid-arrays"},"Find the RAID arrays"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-sh"},"$ cat /proc/mdstat\n\nPersonalities : [raid1] [linear] [multipath] [raid0] [raid6] [raid5] [raid4] [raid10] \nmd126 : active raid1 nvme0n1[1] nvme1n1[0]\n      3800741888 blocks super external:/md127/0 [2/2] [UU]\n      \nmd127 : inactive nvme0n1[1](S) nvme1n1[0](S)\n      10402 blocks super external:imsm\n       \nunused devices: <none>\n")),(0,r.kt)("h3",{id:"query-information-on-raid-array"},"Query information on RAID array"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-sh"},"sudo mdadm --detail /dev/md0\nsudo mdadm --query /dev/md0\n")),(0,r.kt)("h3",{id:"query-information-on-individual-physical-devices"},"Query information on individual physical devices"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-sh"},"sudo mdadm --query /dev/sda\nsudo mdadm --examine /dev/sda\n")),(0,r.kt)("h3",{id:"stop-raid-array"},"Stop RAID array"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-sh"},"sudo mdadm --stop /dev/md0\n# Stop all arrays\nsudo mdadm --stop --scan\n")),(0,r.kt)("h3",{id:"start-an-raid-array"},"Start an RAID array"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-sh"},"# This works if the array is defined in the configuration `/etc/mdadm/mdadm.conf` file.\nsudo mdadm --assemble --scan\nsudo mdadm --assemble /dev/md0\n# If the array is not persisted in `/etc/mdadm/mdadm.conf` file but keeping RAID metadata\nsudo mdadm --assemble /dev/md0 /dev/sda /dev/sdb\n")),(0,r.kt)("h3",{id:"add-a-spare-device-to-an-raid-array"},"Add a spare device to an RAID array"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-sh"},"sudo mdadm /dev/md0 --add /dev/sde\n")),(0,r.kt)("h3",{id:"check-block-devices"},"Check block devices"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-sh"},"$ lsblk -f\nNAME        FSTYPE          FSVER  LABEL UUID                                 FSAVAIL FSUSE% MOUNTPOINTS\nloop0       squashfs        4.0                                                     0   100% /snap/core20/1974\nloop1       squashfs        4.0                                                     0   100% /snap/lxd/24322\nloop2       squashfs        4.0                                                     0   100% /snap/snapd/19457\nsda         isw_raid_member 1.3.00                                                           \nsdb         isw_raid_member 1.3.00                                                           \nsdc         isw_raid_member 1.3.00                                                           \nsdd         isw_raid_member 1.3.00                                                           \nsde         isw_raid_member 1.3.00                                                           \nsdf         isw_raid_member 1.3.00                                                           \nsdg         isw_raid_member 1.3.00                                                           \nsdh         isw_raid_member 1.3.00                                                           \nnvme0n1     isw_raid_member 1.3.00                                                           \n\u251c\u2500md126                                                                                      \n\u2502 \u251c\u2500md126p1 vfat            FAT32        292B-DB66                                 1G     1% /boot/efi\n\u2502 \u2514\u2500md126p2 ext4            1.0          0f58386c-334d-4877-8051-b855bae37fb0    3.3T     0% /\n\u2514\u2500md127                                                                                      \nnvme1n1     isw_raid_member 1.3.00                                                           \n\u251c\u2500md126                                                                                      \n\u2502 \u251c\u2500md126p1 vfat            FAT32        292B-DB66                                 1G     1% /boot/efi\n\u2502 \u2514\u2500md126p2 ext4            1.0          0f58386c-334d-4877-8051-b855bae37fb0    3.3T     0% /\n\u2514\u2500md127                         \n")),(0,r.kt)("h3",{id:"list-uuid-of-devices"},"List UUID of devices"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-sh"},'$ sudo blkid\n/dev/sdf: TYPE="isw_raid_member"\n/dev/nvme0n1: TYPE="isw_raid_member"\n/dev/sdd: TYPE="isw_raid_member"\n/dev/sdb: TYPE="isw_raid_member"\n/dev/sdg: TYPE="isw_raid_member"\n/dev/sde: TYPE="isw_raid_member"\n/dev/sdc: TYPE="isw_raid_member"\n/dev/md126p2: UUID="ff1f3640-e590-486b-8570-c34dfd7bd1de" BLOCK_SIZE="4096" TYPE="ext4" PARTUUID="07473e4a-9324-435d-9238-cf358cd9a6a9"\n/dev/md126p1: UUID="A636-3441" BLOCK_SIZE="512" TYPE="vfat" PARTUUID="7eb27871-d9ad-4132-af06-7110948faf06"\n/dev/nvme1n1: TYPE="isw_raid_member"\n/dev/sda: TYPE="isw_raid_member"\n/dev/md124: UUID="b7fa44f2-0f05-47a1-b4ef-e9ad306898de" BLOCK_SIZE="4096" TYPE="ext4"\n/dev/sdh: TYPE="isw_raid_member"\n/dev/loop1: TYPE="squashfs"\n/dev/loop4: TYPE="squashfs"\n/dev/loop2: TYPE="squashfs"\n/dev/loop0: TYPE="squashfs"\n/dev/loop3: TYPE="squashfs"\n')),(0,r.kt)("h3",{id:"partition-a-disk"},"Partition a disk"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-sh"},"sudo fdisk -l /dev/sda\n")),(0,r.kt)("h3",{id:"create-filesystem-on-disk"},"Create filesystem on disk"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-sh"},"sudo mkfs.ext4 -F /dev/sda\n")),(0,r.kt)("h3",{id:"delete-partition-and-data-in-disk"},"Delete partition and data in disk"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-sh"},"sudo dd if=/dev/zero of=/dev/sda  bs=512  count=1\n")))}p.isMDXComponent=!0}}]);